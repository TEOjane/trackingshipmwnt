@page "/add"
@using Domain
@rendermode InteractiveServer

<head>
	<link type="text/css" rel="stylesheet" href="../wwwroot/addnew.css" />
</head>
<PageTitle>Новое отправление</PageTitle>

<h1>Добавить отправление</h1>

<form>

    
</form>
 
<div id="booking" class="section">
	<div class="section-center">
		<div class="container">
			<div class="row">
				<div class="booking-form">
					<form>
						<div class="form-group">
							<p style="margin-top: 10px">Загрузите фото пломбы</p>
							<input type="file" id="avatar" name="avatar" accept="image/png, image/jpeg" onchange="display(this)"/>
						</div>
						<div class="form-group">
							<h5 id="goodsnumber"></h5>
						</div>
						<div class="form-group">
							<p style="margin-top: 10px">Загрузите фото номера машины</p>
							<InputFile Changed="@OnChanged"/>
						</div>
						<div class="form-group">
							<span class="form-label">Вес груза</span>
							<input class="form-control" type="text" placeholder="В кг">
						</div>
						<div class="form-group">
							<span class="form-label">Объявления ценность</span>
							<input class="form-control" type="text" placeholder="В рублях">
						</div>
						
						<div class="form-group">
							<span class="form-label">Место отправления</span>
							<input class="form-control" type="text" placeholder="Страна, регион, город...">
						</div>
						<div class="form-group">
							<span class="form-label">Место назначения</span>
							<input class="form-control" type="text" placeholder="Страна, регион, город...">
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<span class="form-label">Дата отправления (по умолчанию - текущая)</span>
									<input class="form-control" type="date" name="datedep" disabled="disabled">
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									
								</div>
							</div>
						</div>
						<div>
							<span class="form-label">Назначить дату отправления</span>
							<input type="checkbox" value="Назначить дату отправления"
							       onclick="var input = document.getElementById('datedep'); if(this.checked){ input.disabled = false; input.focus();}else{input.disabled=true;}"/>
						</div>
						<div class="form-btn">
							<button class="submit-btn">Добавить</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	
	async function display(element)
	{
		setTimeout(() => {document.getElementById("goodsnumber").innerHTML = "0023259";}, 2000);
		 element.hidden = true;
	}
</script>
@code {
    Task OnChanged( InputFileChangeEventArgs e )
    {
        return Task.CompletedTask;
    }

    Goods _goodsModel = new Goods();
}